{"remainingRequest":"/Users/sun/project/vue-vant-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sun/project/vue-vant-starter/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&lang=scss&scoped=true&","dependencies":[{"path":"/Users/sun/project/vue-vant-starter/src/views/Login.vue","mtime":1587056554808},{"path":"/Users/sun/project/vue-vant-starter/node_modules/css-loader/dist/cjs.js","mtime":1586788689495},{"path":"/Users/sun/project/vue-vant-starter/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1586311348101},{"path":"/Users/sun/project/vue-vant-starter/node_modules/postcss-loader/src/index.js","mtime":1562343852951},{"path":"/Users/sun/project/vue-vant-starter/node_modules/sass-loader/dist/cjs.js","mtime":1586311357953},{"path":"/Users/sun/project/vue-vant-starter/node_modules/cache-loader/dist/cjs.js","mtime":1586311340698},{"path":"/Users/sun/project/vue-vant-starter/node_modules/vue-loader/lib/index.js","mtime":1586311348101}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojTG9naW4gewoKICAud3JhcCB7CiAgICBoZWlnaHQ6IDEwMHZoCiAgfQoKICAubG9naW4tZnJvbSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVyZW0pOwogIH0KCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"Login\">\n    <div class=\"wrap flex justify-center flex-col\">\n      <van-form class=\"login-from p-4\" @submit=\"onSubmit\">\n        <h2 class=\"text-4xl mb-4\">登录</h2>\n        <van-field\n          v-model=\"form.username\"\n          name=\"username\"\n          label=\"用户名\"\n          placeholder=\"用户名\"\n          :rules=\"[{ required: true, message: '请填写用户名' }]\"\n        />\n        <van-field\n          v-model=\"form.password\"\n          type=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          placeholder=\"密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n        <div class=\"mt-5\">\n          <van-button block type=\"info\" native-type=\"submit\"> 提交 </van-button>\n        </div>\n      </van-form>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { Form, Field, Button } from 'vant'\nimport { sleep } from '@/utils'\n\nexport default {\n  name: 'Login',\n  components: {\n    [Form.name]: Form,\n    [Field.name]: Field,\n    [Button.name]: Button\n  },\n  data(){\n    return {\n      form: {}\n    }\n  },\n  methods: {\n    onSubmit(values) {\n\n      this.$store.commit('LOADING', true)\n      this.$http.post('/api/login', values)\n        .then(res => {\n          const { success, data, message } = res\n          this.$notify({\n            type: success ? 'success' : 'error',\n            message\n          })\n          success && this.successHandle(data)\n\n        })\n        .finally(() => {\n          this.$store.commit('LOADING', false)\n        })\n\n    },\n    async successHandle(data){\n\n      const { token } = data\n      this.$store.commit('ADD_TOKEN', token)\n      await sleep(1000)\n      this.$router.push('/')\n\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  #Login {\n\n    .wrap {\n      height: 100vh\n    }\n\n    .login-from {\n      transform: translateY(-5rem);\n    }\n\n  }\n</style>\n"]}]}